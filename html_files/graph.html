<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Computation Graph</title>
  <style>
    body {
      margin: 0;
      padding: 0;
      font-family: sans-serif;
      background: #f7f7f7;
    }
    h2 {
      text-align: center;
      margin: 20px;
    }
    #graph {
      width: 100%;
      height: 90vh;
      display: block;
    }
  </style>
  <script src="https://unpkg.com/cytoscape@3.19.1/dist/cytoscape.min.js"></script>
</head>
<body>
  <h2>Computation Graph</h2>
  <div id="graph"></div>

  <script>
    if (window.cy) {
      window.cy.destroy();
    }
    window.cy = cytoscape({
      container: document.getElementById('graph'),

      <!--GRAPH_ELEMENTS_PLACEHOLDER-->,

      style: [
        {
          selector: 'node[type="agent"]',
          style: {
            'shape': 'ellipse',
            'background-color': '#4285F4',
            'label': 'data(id)',
            'color': '#fff',
            'text-valign': 'center',
            'text-halign': 'center',
            'font-size': 20,
            'width': 150,
            'height': 100
          }
        },
        {
          selector: 'node[type="topic"]',
          style: {
            'shape': 'rectangle',
            'background-color': '#FFB74D',
            'label': 'data(id)',
            'color': '#000',
            'text-valign': 'center',
            'text-halign': 'center',
            'font-size': 20,
            'width': 100,
            'height': 50
          }
        },
        {
          selector: 'edge',
          style: {
            'width': 4,
            'line-color': '#888',
            'target-arrow-shape': 'triangle',
            'target-arrow-color': '#888',
            'curve-style': 'bezier'
          }
        }
      ],

      layout: { name: 'breadthfirst', directed: true, padding: 10 }
    });
  </script>
</body>
</html>
